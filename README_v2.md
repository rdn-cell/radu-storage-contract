
# StorageComparison ‚Äì –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –ø–∞–º—è—Ç–∏ –≤ Solidity

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–¶–µ–ª—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ ‚Äî –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –ø–∞–º—è—Ç–∏ –≤ Solidity (`storage`, `memory`, `calldata`, `stack`) –∏ –∏–∑–º–µ—Ä–∏—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –≥–∞–∑–∞ –ø—Ä–∏ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏.

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã —Å –∞–Ω–∞–ª–∏–∑–æ–º `gasUsed` –∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ –æ–±—É—á–µ–Ω–∏–µ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤.

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

–ö–æ–Ω—Ç—Ä–∞–∫—Ç `StorageComparison.sol` —Å–æ–¥–µ—Ä–∂–∏—Ç:

- ‚úÖ `writeToStorage(uint256)` ‚Äì –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ `storage`
- ‚úÖ `sumMemory(uint[] memory)` ‚Äì —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–∞ –≤ –ø–∞–º—è—Ç–∏ `memory`
- ‚úÖ `sumCalldata(uint[] calldata)` ‚Äì —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–∞ `calldata`
- ‚úÖ `computeStack()` ‚Äì –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –≤ `stack`

---

## üß† –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø–∞–º—è—Ç–∏

| –¢–∏–ø       | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                           | –ò–∑–º–µ–Ω—è–µ–º—ã–π | –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –≥–∞–∑—É |
|-----------|--------------------------------------|------------|------------------------|
| `storage` | –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤ –±–ª–æ–∫—á–µ–π–Ω–µ     | –î–∞         | ‚ùå –¥–æ—Ä–æ–≥–æ              |
| `memory`  | –í—Ä–µ–º–µ–Ω–Ω–æ–µ, –∏–∑–º–µ–Ω—è–µ–º–æ–µ                | –î–∞         | ‚ö†Ô∏è —Å—Ä–µ–¥–Ω–µ–µ             |
| `calldata`| –¢–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è, –≤–Ω–µ—à–Ω–∏–µ –≤—ã–∑–æ–≤—ã    | –ù–µ—Ç        | ‚úÖ –¥–µ—à–µ–≤–ª–µ             |
| `stack`   | –õ–æ–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è                   | –î–∞         | ‚úÖ –æ—á–µ–Ω—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ    |

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤

```text
Gas used [writeToStorage]: 43724
‚úîÔ∏è should write to storage
‚úîÔ∏è should return correct sum (memory)
‚úîÔ∏è should return correct sum (calldata)
‚úîÔ∏è should return stack result
```

---

## üî¨ –í—ã–≤–æ–¥—ã

- –ó–∞–ø–∏—Å—å –≤ `storage` —Ç—Ä–µ–±—É–µ—Ç –Ω–∞–∏–±–æ–ª—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–∞–∑–∞
- `memory` –∏ `calldata` –≤—ã–ø–æ–ª–Ω—è—é—Ç –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –∑–∞–¥–∞—á–∏, –Ω–æ `calldata` –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `stack` ‚Äî –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –ø–æ –≥–∞–∑—É

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
npm install
npx hardhat test
```

---

## üìå –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

–ü—Ä–æ–µ–∫—Ç –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å:
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ `gasUsed` –º–µ–∂–¥—É `memory` –∏ `calldata`
- –û—Ç—á–µ—Ç–∞–º–∏ –≤ CSV –∏–ª–∏ Markdown
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –≥—Ä–∞—Ñ–∏–∫–æ–≤ —á–µ—Ä–µ–∑ scripts

